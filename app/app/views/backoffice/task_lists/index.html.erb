<!-- app/views/backoffice/task_lists/index.html.erb -->
<div class="d-flex justify-content-between align-items-center mb-5 mt-5">
  <span class="h3">Task Lists</span>
  <%= link_to 'Adicionar', new_backoffice_task_list_path, class: "btn btn-primary" %>
</div>

<table class="table table-bordered">
  <thead>
  <tr>
    <th>Nome</th>
    <th>Tarefas Pendentes</th>
    <th class="text-center">AÃ§Ãµes</th>
  </tr>
  </thead>
  <tbody>
  <% @task_lists.each do |task_list| %>
    <tr>
      <td>
        <%= link_to task_list.name, backoffice_task_list_path(task_list) %>
      </td>
      <td class="col-md-2 text-center"><%= task_list.tasks.pending.count %></td>
      <td class="col-md-2 text-center">
        <div class="d-flex align-items-center justify-content-between mb-5">
          <%= link_to 'Editar', edit_backoffice_task_list_path(task_list), class: 'btn btn-primary'%>
          <%= link_to 'Deletar', backoffice_task_list_path(task_list), class: 'btn btn-danger', method: :delete, data: { confirm: "Deseja deletar a task #{task_list.id}?" } %>
        </div>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= paginate @task_lists %>
